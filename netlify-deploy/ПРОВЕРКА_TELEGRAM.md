# Проверка настроек Telegram в Netlify

## Проблема
Заявки с сайта не приходят в Telegram группу, хотя показывается сообщение об успешной отправке.

## Возможные причины
1. Неправильно настроены переменные окружения в Netlify
2. Неверный формат токена или chat ID
3. Бот не имеет прав на отправку сообщений в группу

## Пошаговая проверка

### 1. Проверка переменных окружения в Netlify
1. Зайдите в админку Netlify
2. Перейдите в Site settings → Environment variables
3. Проверьте наличие переменных:
   - `TELEGRAM_BOT_TOKEN` - должен быть в формате `123456789:ABCdef...`
   - `TELEGRAM_CHAT_ID` - должен быть `-1002126895025`

### 2. Проверка через тестовую страницу
После загрузки файлов на Netlify:
1. Откройте `/test-telegram.html` на вашем сайте
2. Нажмите "Запустить полную диагностику"
3. Проверьте результат - должно прийти тестовое сообщение в группу

### 3. Проверка основной формы
1. Заполните форму на главной странице
2. Откройте Developer Tools (F12) → Console
3. Посмотрите на сообщения в консоли после отправки
4. Ошибки будут показаны в логах

### 4. Проверка прав бота
Убедитесь что бот:
- Добавлен в группу `-1002126895025`
- Имеет права администратора или права на отправку сообщений
- Группа существует и активна

## Файлы для диагностики
- `/test-telegram.html` - страница тестирования
- `/.netlify/functions/debug-telegram` - полная диагностика
- `/.netlify/functions/test-telegram` - быстрый тест
- `/.netlify/functions/contact` - основная функция отправки

## Логи Netlify
Проверьте логи функций в Netlify:
1. Functions → contact → View logs
2. Там будет детальная информация о том, что происходит при отправке

## Исправления
Основная функция теперь:
- ✅ Использует переменные окружения
- ✅ Имеет детальное логирование
- ✅ Правильно обрабатывает ошибки Telegram API
- ✅ Возвращает информативные сообщения об ошибках